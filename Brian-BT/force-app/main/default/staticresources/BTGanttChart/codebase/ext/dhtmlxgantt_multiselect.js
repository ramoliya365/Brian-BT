/*!
 * @license
 * 
 * dhtmlxGantt v.5.0.5 Professional Evaluation
 * This software is covered by DHTMLX Evaluation License. Contact sales@dhtmlx.com to get Commercial or Enterprise license. Usage without proper license is prohibited.
 * 
 * (c) Dinamenta, UAB.
 * 
 */
Gantt.plugin(function(e){!function(e){function t(l){if(s[l])return s[l].exports;var i=s[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var s={};t.m=e,t.c=s,t.d=function(e,s,l){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=26)}({26:function(e,t,s){e.exports=s(27)},27:function(t,s){e.config.multiselect=!0,e.config.multiselect_one_level=!1,e._multiselect={selected:{},one_level:!0,active:!0,_first_selected_when_shift:null,isActive:function(){return this.update_state(),this.active},update_state:function(){this.one_level=e.config.multiselect_one_level;var t=this.active;this.active=e.config.multiselect,this.active!=t&&this.reset()},reset:function(){this.selected={}},set_last_selected:function(e){this.last_selected=e},getLastSelected:function(){var t=this.last_selected;return t&&e.isTaskExists(t)?t:null},select:function(t,s){e.callEvent("onBeforeTaskMultiSelect",[t,!0,s])&&(this.selected[t]=!0,this.set_last_selected(t),e.callEvent("onTaskMultiSelect",[t,!0,s]))},toggle:function(e,t){this.selected[e]?this.unselect(e,t):this.select(e,t)},unselect:function(t,s){e.callEvent("onBeforeTaskMultiSelect",[t,!1,s])&&(this.selected[t]=!1,this.last_selected==t&&(this.last_selected=null),e.callEvent("onTaskMultiSelect",[t,!1,s]))},isSelected:function(t){return!(!e.isTaskExists(t)||!this.selected[t])},getSelected:function(){var t=[];for(var s in this.selected)this.selected[s]&&e.isTaskExists(s)?t.push(s):this.selected[s]=!1;return t.sort(function(t,s){return e.calculateTaskLevel(e.getTask(t))>e.calculateTaskLevel(e.getTask(s))?1:-1}),t},forSelected:function(e){for(var t=this.getSelected(),s=0;s<t.length;s++)e(t[s])},is_same_level:function(t){if(!this.one_level)return!0;var s=this.getLastSelected();return!s||(!e.isTaskExists(s)||!e.isTaskExists(t)||!(e.calculateTaskLevel(e.getTask(s))!=e.calculateTaskLevel(e.getTask(t))))},_after_select:function(t){e.refreshTask(t)},_do_selection:function(t){if(!this.isActive())return!0;if(!e.callEvent("onBeforeMultiSelect",[t]))return!0;var s=e.locate(t);if(!s)return!0;var l=this.getLastSelected(),i=this.getSelected();if(t.shiftKey?e.isTaskExists(this._first_selected_when_shift)&&null!==this._first_selected_when_shift||(this._first_selected_when_shift=s):t.ctrlKey||t.metaKey?this.isSelected(s)||(this._first_selected_when_shift=s):this._first_selected_when_shift=s,t.ctrlKey||t.metaKey)!s||s===this._first_selected_when_shift&&this.isSelected(this._first_selected_when_shift)||(this.toggle(s,t),this._after_select(s));else if(t.shiftKey&&i.length){if(l||(l=s),s){for(var c=e.getGlobalTaskIndex(this._first_selected_when_shift),n=e.getGlobalTaskIndex(s),a=e.getGlobalTaskIndex(l),r=l;e.getGlobalTaskIndex(r)!=c;)this.unselect(r),this._after_select(r),r=c>a?e.getNext(r):e.getPrev(r);for(r=s;e.getGlobalTaskIndex(r)!=c;)this.select(r),this._after_select(r),r=c>n?e.getNext(r):e.getPrev(r)}}else{this.isSelected(s)||(this.select(s),this._after_select(s));for(var u=0;u<i.length;u++)i[u]!==s&&(this.unselect(i[u]),this._after_select(i[u]))}return!!this.isSelected(s)}},function(){var t=e.selectTask;e.selectTask=function(e){var s=t.call(this,e);return this.config.multiselect&&this._multiselect.select(e),s};var s=e.unselectTask;e.unselectTask=function(e){return void 0!==e&&this.config.multiselect&&this._multiselect.unselect(e),s.call(this,e)},e.toggleTaskSelection=function(e){this.config.multiselect&&this._multiselect.toggle(e)},e.getSelectedTasks=function(){return this._multiselect.getSelected()},e.eachSelectedTask=function(e){return this._multiselect.forSelected(e)},e.isSelectedTask=function(e){return this._multiselect.isSelected(e)},e.getLastSelectedTask=function(){return this._multiselect.getLastSelected()}}(),e.attachEvent("onTaskIdChange",function(t,s){var l=e._multiselect;if(!l.isActive())return!0;e.isSelectedTask(t)&&(l.unselect(t,null),l.select(s,null),e.refreshTask(s))}),e.attachEvent("onAfterTaskDelete",function(t,s){var l=e._multiselect;if(!l.isActive())return!0;l.selected[t]&&l.unselect(t,null),l.forSelected(function(t){e.isTaskExists(t)||l.unselect(t,null)})}),e.attachEvent("onBeforeTaskMultiSelect",function(t,s,l){var i=e._multiselect;return!s||!i.isActive()||i.is_same_level(t)}),e.attachEvent("onTaskClick",function(t,s){var l=e._multiselect._do_selection(s);return e.callEvent("onMultiSelect",[s]),l}),e.attachEvent("onEmptyClick",function(t){return e._multiselect._do_selection(t),e.callEvent("onMultiSelect",[t]),!0})}})});
//# sourceMappingURL=dhtmlxgantt_multiselect.js.map